;/*FB_PKG_DELIM*/

__d("FDSShareFilled20Icon",["cr:15639"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15639")}),98);
__d("FDSShareFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("484396"),20);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaNavigationHotkeys.react",["fbt","CometKeys","MWChatAttachmentMediaState.react","justknobx","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;var l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n={key:c("CometKeys").ESCAPE},o=h._(/*BTDS*/"Next item"),p=h._(/*BTDS*/"Previous item"),q=h._(/*BTDS*/"Close");function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.onClose;a=k(d("MWChatAttachmentMediaState.react").context);var g=a.isImageExpanded,h=a.moveBackward,i=a.moveForward,r=a.setIsImageExpanded;b[0]!==g||b[1]!==h?(a={command:l,description:o,handler:function(){g||h()}},b[0]=g,b[1]=h,b[2]=a):a=b[2];var s;b[3]!==g||b[4]!==i?(s={command:m,description:p,handler:function(){g||i()}},b[3]=g,b[4]=i,b[5]=s):s=b[5];var t;b[6]!==g||b[7]!==f||b[8]!==r?(t=f!=null?{command:n,description:q,handler:function(){if(g)return r(!1);f()}}:null,b[6]=g,b[7]=f,b[8]=r,b[9]=t):t=b[9];var u;b[10]!==a||b[11]!==s||b[12]!==t?(u=[a,s,t],b[10]=a,b[11]=s,b[12]=t,b[13]=u):u=b[13];a=u;b[14]!==a?(s=a.filter(Boolean),b[14]=a,b[15]=s):s=b[15];t=s;u=t;c("useLayerKeyCommands")(u);b[16]!==e?(a=c("justknobx")._("3491")?j.jsx(j.Fragment,{children:e!=null?e:null}):j.jsx("div",{children:e!=null?e:null}),b[16]=e,b[17]=a):a=b[17];return a}g.keyLeft=l;g.keyRight=m;g.keyEscape=n;g.MWChatAttachmentMediaNavigationHotkeys=a}),226);
__d("MWChatAttachmentMediaUtils",["MWChatAttachmentMediaState.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.card,c=a.getPlayableUrl;a=a.getPreviewUrl;var e=b.attachment,f="/images/comet/gray.png",g;if(e.hasMedia)try{g=b.type!==d("MWChatAttachmentMediaState.react").AttachmentMediaType.AnimatedImage?a(e,"toFilmstripThumbnail"):c(e,"toFilmstripThumbnail")}catch(a){g=null}a=g;if(b.type===d("MWChatAttachmentMediaState.react").AttachmentMediaType.Video&&g==null)try{a=c(e,"toFilmstripThumbnail")}catch(b){a=null}if(b.type===d("MWChatAttachmentMediaState.react").AttachmentMediaType.Image||b.type===d("MWChatAttachmentMediaState.react").AttachmentMediaType.AnimatedImage){return{alt:(c=e.accessibilitySummaryText)!=null?c:"",backgroundColor:void 0,height:0,isUseImageResizing:void 0,mediaType:"image",uri:g!=null?g:f,width:0}}return{height:0,mediaType:"video",thumbnailUri:g!=null?g:f,uri:a!=null?a:f,width:0}}g.toFilmstripThumbnail=a}),98);
__d("MWChatAttachmentMediaThumbnails.react",["CometMediaViewerFilmstrip.react","CometPlaceholder.react","MWChatAttachmentMediaState.react","MWChatAttachmentMediaUtils","MWV2MediaViewerContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useDeferredValue;function l(a){var b,e,f=d("react-compiler-runtime").c(23),g=a.activeCard,h=a.cards,k=a.getPreviewUrl,l=a.onSetImage,m=j(d("MWV2MediaViewerContext.react").context);f[0]!==m?(a=function(a,b){return a==null?"":m.getDownloadUrl(a,b)},f[0]=m,f[1]=a):a=f[1];var n=a;if(f[2]!==h||f[3]!==n||f[4]!==k){f[6]!==n||f[7]!==k?(a=function(a){return d("MWChatAttachmentMediaUtils").toFilmstripThumbnail({card:a,getPlayableUrl:n,getPreviewUrl:k})},f[6]=n,f[7]=k,f[8]=a):a=f[8];a=h.map(a);f[2]=h;f[3]=n;f[4]=k;f[5]=a}else a=f[5];a=a;if(f[9]!==(g==null||(b=g.attachment)==null?void 0:b.attachmentFbid)||f[10]!==(g==null||(e=g.attachment)==null?void 0:e.messageId)||f[11]!==h){var o,p,q,r,s;if(f[13]!==(g==null||(o=g.attachment)==null?void 0:o.attachmentFbid)||f[14]!==(g==null||(p=g.attachment)==null?void 0:p.messageId)){var t,u;s=function(a){var b,c;return a.attachment.attachmentFbid===(g==null||(b=g.attachment)==null?void 0:b.attachmentFbid)&&a.attachment.messageId===(g==null||(c=g.attachment)==null?void 0:c.messageId)};f[13]=g==null||(t=g.attachment)==null?void 0:t.attachmentFbid;f[14]=g==null||(u=g.attachment)==null?void 0:u.messageId;f[15]=s}else s=f[15];s=h.findIndex(s);f[9]=g==null||(q=g.attachment)==null?void 0:q.attachmentFbid;f[10]=g==null||(r=g.attachment)==null?void 0:r.messageId;f[11]=h;f[12]=s}else s=f[12];s=s;var v;f[16]!==h||f[17]!==l?(v=function(a){return l(h[a])},f[16]=h,f[17]=l,f[18]=v):v=f[18];var w;f[19]!==s||f[20]!==a||f[21]!==v?(w=i.jsx(c("CometMediaViewerFilmstrip.react"),{activeIndex:s,images:a,onSetImage:v}),f[19]=s,f[20]=a,f[21]=v,f[22]=w):w=f[22];return w}function a(a){var b=d("react-compiler-runtime").c(10),e=a.getPreviewUrl;a=a.shouldHide;a=a===void 0?!1:a;var f=j(d("MWChatAttachmentMediaState.react").context),g=f.card,h=f.cards;f=f.moveTo;h=k(h);var m;b[0]!==a?(m={0:{className:"xdj266r x11t971q xat24cr xvc5jky x193iq5w x6ikm8r x10wlt62"},1:{className:"xdj266r x11t971q xat24cr xvc5jky x193iq5w x6ikm8r x10wlt62 x1s85apg"}}[!!a<<0],b[0]=a,b[1]=m):m=b[1];b[2]!==g||b[3]!==h||b[4]!==e||b[5]!==f?(a=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatAttachmentMediaThumbnails",children:i.jsx(l,{activeCard:g,cards:h,getPreviewUrl:e,onSetImage:f})}),b[2]=g,b[3]=h,b[4]=e,b[5]=f,b[6]=a):a=b[6];b[7]!==m||b[8]!==a?(g=i.jsx("div",babelHelpers["extends"]({},m,{"data-testid":void 0,children:a})),b[7]=m,b[8]=a,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("MWChatMediaViewerControls.react",["fbt","FDSCircleButton.react","FDSShareFilled20Icon","FDSTooltip.react","Int64Hooks","LSFactory","LSIntEnum","LSMessagePointQueryStoredProcedure","LSVerifyThreadRowExistsStoredProcedure","MWChatMessageId","MWXCircleButton.react","MWXIconDownload","MWXRow.react","MWXRowItem.react","ODS","ReQL","ReQLSuspense","emptyFunction","promiseDone","react","react-compiler-runtime","useMWChatForward","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));l.useCallback;var n=h._(/*BTDS*/"Download"),o=h._(/*BTDS*/"Forward");function p(a,b){var e=d("react-compiler-runtime").c(18),g=(i||(i=c("useReStore")))(),h,k;e[0]!==g||e[1]!==b?(h=function(){return b!=null?d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(b).map(q):d("ReQL").empty()},k=[g,b],e[0]=g,e[1]=b,e[2]=h,e[3]=k):(h=e[2],k=e[3]);var l=d("ReQLSuspense").useFirst(h,k,f.id+":63");e[4]!==g||e[5]!==a?(h=function(){return a!=null?d("ReQL").fromTableAscending(g.tables.messages.index("messageId")).getKeyRange(a):d("ReQL").empty()},k=[g,a],e[4]=g,e[5]=a,e[6]=h,e[7]=k):(h=e[6],k=e[7]);var m=d("ReQLSuspense").useFirst(h,k,f.id+":75");e[8]!==g||e[9]!==m||e[10]!==a||e[11]!==l||e[12]!==b?(h=function(){if(a==null||b==null)return;if(l==null){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:b})},"readwrite",void 0,void 0,f.id+":91"));return}m==null&&c("promiseDone")(g.runInTransaction(function(d){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(d),{messageId:a,threadKey:b,threadType:l})},"readwrite",void 0,void 0,f.id+":104"))},k=[g,m,a,l,b],e[8]=g,e[9]=m,e[10]=a,e[11]=l,e[12]=b,e[13]=h,e[14]=k):(h=e[13],k=e[14]);d("Int64Hooks").useEffectInt64(h,k);e[15]!==m||e[16]!==l?(h=[m,l],e[15]=m,e[16]=l,e[17]=h):h=e[17];return h}function q(a){a=a.threadType;return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.attachmentID,f=a.canForward,g=a.downloadLink,h=a.isCrossTransportForwardEnabled,i=a.isSecureForwardEnabled;a=a.messageID;f=f===void 0?!0:f;h=h===void 0?!1:h;i=i===void 0?!1:i;var j;b[0]!==g?(j=g!=null?m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("FDSTooltip.react"),{align:"middle",tooltip:n,children:m.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconDownload"),label:n,linkProps:{download:!0,target:"_blank",url:g},size:36,type:"dark-overlay"})})}):null,b[0]=g,b[1]=j):j=b[1];b[2]!==e||b[3]!==f||b[4]!==h||b[5]!==i||b[6]!==a?(g=f===!0?m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("FDSTooltip.react"),{align:"middle",tooltip:o,children:m.jsx(s,{attachmentID:e,isCrossTransportForwardEnabled:h,isSecureForwardEnabled:i,messageID:a})})}):null,b[2]=e,b[3]=f,b[4]=h,b[5]=i,b[6]=a,b[7]=g):g=b[7];b[8]!==j||b[9]!==g?(e=m.jsxs(c("MWXRow.react"),{paddingTop:0,spacing:8,children:[j,g]}),b[8]=j,b[9]=g,b[10]=e):e=b[10];return e}function r(a){var b=d("react-compiler-runtime").c(8),e=a.isCrossTransportForwardEnabled,f=a.isSecureForwardEnabled,g=a.messageID;a=a.onForwardSend;e=e===void 0?!1:e;f=f===void 0?!1:f;f=f?"secure":e?"cross_transport":"open_";b[0]!==f||b[1]!==g||b[2]!==a?(e={forwardDialogType:f,messageID:g,onClose:c("emptyFunction"),onSend:a},b[0]=f,b[1]=g,b[2]=a,b[3]=e):e=b[3];var h=c("useMWChatForward")(e);b[4]!==h?(f=function(){(k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_media_viewer","forward"),h&&h.onClick()},b[4]=h,b[5]=f):f=b[5];var i=f;b[6]!==i?(g=m.jsx(c("FDSCircleButton.react"),{icon:c("FDSShareFilled20Icon"),label:o,onPress:function(a){return i()},size:36,testid:void 0,type_DEPRECATED:"dark-overlay"}),b[6]=i,b[7]=g):g=b[7];return g}function s(a){var b=d("react-compiler-runtime").c(11),c=a.attachmentID,e=a.isCrossTransportForwardEnabled,f=a.isSecureForwardEnabled;a=a.messageID;e=e===void 0?!1:e;f=f===void 0?!1:f;var g;b[0]!==a?(g=d("MWChatMessageId").getMessageId(a),b[0]=a,b[1]=g):g=b[1];g=g;var h;b[2]!==a?(h=d("MWChatMessageId").getThreadId(a),b[2]=a,b[3]=h):h=b[3];h=h;g=p(g,h);h=g[0];g=g[1];if(h==null||g==null)return null;var i;b[4]!==c||b[5]!==e||b[6]!==f||b[7]!==h||b[8]!==a||b[9]!==g?(i=m.jsx(t,{attachmentID:c,isCrossTransportForwardEnabled:e,isSecureForwardEnabled:f,message:h,messageID:a,messageThreadType:g}),b[4]=c,b[5]=e,b[6]=f,b[7]=h,b[8]=a,b[9]=g,b[10]=i):i=b[10];return i}function t(a){var b=d("react-compiler-runtime").c(7),e=a.attachmentID,f=a.isCrossTransportForwardEnabled,g=a.isSecureForwardEnabled,h=a.message,i=a.messageID;a=a.messageThreadType;f=f===void 0?!1:f;g=g===void 0?!1:g;var j=d("useMWV2ForwardMessage").useMWV2ForwardMessage(h,a,e);b[0]!==j?(h=function(a){return c("promiseDone")(j(a))},b[0]=j,b[1]=h):h=b[1];a=h;b[2]!==f||b[3]!==g||b[4]!==i||b[5]!==a?(e=m.jsx(r,{isCrossTransportForwardEnabled:f,isSecureForwardEnabled:g,messageID:i,onForwardSend:a}),b[2]=f,b[3]=g,b[4]=i,b[5]=a,b[6]=e):e=b[6];return e}g["default"]=a}),226);
__d("MWMediaViewerRenderQpl",["MWMediaRenderQplUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MWMediaRenderQplUtils").useCommonMediaRenderQplForAttachment(a,b,"full_screen_view")}g.useMediaViewerRenderQpl=a}),98);
__d("MWV2MediaViewerAspectRatioContainer.react",["BaseAspectRatioContainer.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={containerMaxSize:function(a,b,c){return[{aspectRatio:b!=null?"x10y9f9r":b,marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",maxHeight:"x1jols5v",maxWidth:"xf68679",width:"xh8yej3",$$css:!0},{"--x-aspectRatio":b!=null?b:void 0,"--x-maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("min(calc(100vh - "+c+"px),"+(a!=null?a:1e4)+"px)"),"--x-maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("min(calc((100vh - "+c+"px) * "+b+"),"+(a!=null?a:1e4)*b+"px)")}]},scale:function(a){return[{transform:"xsqj5wx",$$css:!0},{"--x-transform":"scale3d("+a+", "+a+", 1)"!=null?"scale3d("+a+", "+a+", 1)":void 0}]}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.height,g=a.imageContainerRef,i=a.imageExpansionFactor,m=a.isImageExpanded,n=a.onClickOutsideOfChildren,o=a.outsideContainerRef;a=a.width;i=i===void 0?1:i;m=m===void 0?!1:m;a=a!=null&&f!=null?a/f:1;var p=c("gkx")("17009")?170:76,q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xh8yej3"},b[0]=q):q=b[0];if(b[1]!==a||b[2]!==f||b[3]!==i||b[4]!==m){var r;b[6]!==i||b[7]!==m?(r=m&&k.scale(i),b[6]=i,b[7]=m,b[8]=r):r=b[8];p=(h||(h=c("stylex"))).props(k.containerMaxSize(f,a,p),r);b[1]=a;b[2]=f;b[3]=i;b[4]=m;b[5]=p}else p=b[5];b[9]!==a||b[10]!==e?(r=j.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:a,children:e}),b[9]=a,b[10]=e,b[11]=r):r=b[11];b[12]!==g||b[13]!==p||b[14]!==r?(f=j.jsx("div",babelHelpers["extends"]({},p,{"aria-hidden":!0,onClick:l,ref:g,children:r})),b[12]=g,b[13]=p,b[14]=r,b[15]=f):f=b[15];b[16]!==n||b[17]!==o||b[18]!==f?(i=j.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},q,{onClick:n,ref:o,children:f})),b[16]=n,b[17]=o,b[18]=f,b[19]=i):i=b[19];return i}function l(a){a.cancelBubble=!0,a.stopPropagation()}g["default"]=a}),98);
__d("MWV2MediaViewerDownloadControl.react",["fbt","MWV2MediaViewerActionButton.react","MWXIconDownload","MWXRowItem.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Download");function a(a){var b=d("react-compiler-runtime").c(7);a=a.uri;var e=c("MessengerWebUXLogger").useInteractionLogger(),f;b[0]!==a?(f={download:!0,target:"_blank",url:a},b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=function(){e==null||e({eventName:"fsmv_download_click"})},b[2]=e,b[3]=a):a=b[3];var g;b[4]!==f||b[5]!==a?(g=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWV2MediaViewerActionButton.react"),{icon:c("MWXIconDownload"),label:k,linkProps:f,onPress:a})}),b[4]=f,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),226);
__d("MWV2MediaViewerForwardControl.react",["fbt","Int64Hooks","LSMessagingThreadTypeUtil","MWV2MediaViewerActionButton.react","MWXIconShare","MWXRowItem.react","ODS","gkx","react","react-compiler-runtime","useMWHasForwardAction","useMWV2MessageForwardAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.attachment,f=a.message,g=a.thread;a=e==null?void 0:e.attachmentFbid;var i;b[0]!==g.threadType?(i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),b[0]=g.threadType,b[1]=i):i=b[1];i=i;var l,m;b[2]!==g.threadType?(l=function(){return g.threadType},m=[g.threadType],b[2]=g.threadType,b[3]=l,b[4]=m):(l=b[3],m=b[4]);l=d("Int64Hooks").useMemoInt64(l,m);var n=c("useMWV2MessageForwardAction")(i,f,l);m=c("useMWHasForwardAction")(g.threadType,f,e);i=m.hasForwardAction;l=m.shouldShowForwardAction;f=a!=null&&(c("gkx")("9525")?i:l);if(a==null||!f)return null;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Forward"),b[5]=e):e=b[5];m=e;b[6]!==n?(i=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWV2MediaViewerActionButton.react"),{icon:c("MWXIconShare"),label:m,onPress:function(){(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_media_viewer","forward"),n()},testid:void 0})}),b[6]=n,b[7]=i):i=b[7];return i}g["default"]=a}),226);
__d("MWV2MediaViewerControls.react",["MWV2MediaViewerCloseControl.react","MWV2MediaViewerContext.react","MWV2MediaViewerDownloadControl.react","MWV2MediaViewerForwardControl.react","MWXRow.react","cr:9742","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var e=d("react-compiler-runtime").c(19),f=a.attachment,g=a.message,h=a.onClose;a=a.thread;var k=j(d("MWV2MediaViewerContext.react").context),l;e[0]!==f||e[1]!==k?(l=k.getDownloadUrl(f,"MWV2MediaViewerControls"),e[0]=f,e[1]=k,e[2]=l):l=e[2];k=l;e[3]!==f||e[4]!==g?(l=g!=null&&f!=null&&b("cr:9742")!=null&&i.jsx(b("cr:9742"),{attachment:f,message:g}),e[3]=f,e[4]=g,e[5]=l):l=e[5];var m;e[6]!==k?(m=k!=null&&i.jsx(c("MWV2MediaViewerDownloadControl.react"),{uri:k}),e[6]=k,e[7]=m):m=e[7];e[8]!==f||e[9]!==g||e[10]!==a?(k=g!=null?i.jsx(c("MWV2MediaViewerForwardControl.react"),{attachment:f,message:g,thread:a}):null,e[8]=f,e[9]=g,e[10]=a,e[11]=k):k=e[11];e[12]!==h?(f=h!=null?i.jsx(c("MWV2MediaViewerCloseControl.react"),{onClose:h}):null,e[12]=h,e[13]=f):f=e[13];e[14]!==l||e[15]!==m||e[16]!==k||e[17]!==f?(g=i.jsxs(c("MWXRow.react"),{paddingTop:0,spacing:8,testid:void 0,children:[l,m,k,f]}),e[14]=l,e[15]=m,e[16]=k,e[17]=f,e[18]=g):g=e[18];return g}g["default"]=a}),98);
__d("MWV2MediaViewerControlsContainer.react",["CometPlaceholder.react","MWV2MediaViewerControls.react","MWV2MediaViewerControlsFallback.react","cr:7197","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.attachment,g=a.message,h=a.onClose;a=a.thread;var j;e[0]!==h?(j=h!=null&&!b("cr:7197")?i.jsx(c("MWV2MediaViewerControlsFallback.react"),{onClose:h}):null,e[0]=h,e[1]=j):j=e[1];var k;e[2]!==f||e[3]!==g||e[4]!==h||e[5]!==a?(k=b("cr:7197")?i.jsx(b("cr:7197"),{attachment:f,message:g,onClose:h,thread:a}):i.jsx(c("MWV2MediaViewerControls.react"),{attachment:f,message:g,onClose:h,thread:a}),e[2]=f,e[3]=g,e[4]=h,e[5]=a,e[6]=k):k=e[6];e[7]!==j||e[8]!==k?(f=i.jsx(c("CometPlaceholder.react"),{fallback:j,name:"MWV2MediaViewerContent.Controls",children:k}),e[7]=j,e[8]=k,e[9]=f):f=e[9];return f}g["default"]=a}),98);
__d("MWV2MediaViewerDimensions",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;b=1.75;function i(a){return a.previewHeightLarge!=null?(h||(h=d("I64"))).to_float(a.previewHeightLarge):a.previewHeight!=null?(h||(h=d("I64"))).to_float(a.previewHeight):void 0}function j(a){return a.previewWidthLarge!=null?(h||(h=d("I64"))).to_float(a.previewWidthLarge):a.previewWidth!=null?(h||(h=d("I64"))).to_float(a.previewWidth):void 0}function a(a){return{height:i(a),width:j(a)}}g.IMAGE_EXPANSION_FACTOR=b;g.getLargestAttachmentDimensions=a}),98);
__d("MWV2MediaViewerItemImage.react",["fbt","BaseImage.react","I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWChatAttachmentMediaState.react","MWV2MediaViewerContext.react","MWV2MediaViewerDimensions","MWXIconHd","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","MessagingAttachmentType","cr:7201","cr:7203","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState;function a(a){var e=d("react-compiler-runtime").c(31),f=a.attachment,g=a.imageContainerRef,i=a.mediaRenderQpl;a=a.outsideContainerRef;var q=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),r=l(d("MWChatAttachmentMediaState.react").context);r=r.isImageExpanded;var s=l(d("MWV2MediaViewerContext.react").context),t=s.getPlayableUrl;s=s.heroLoggingComponent;var u=n(null),v=o(!1),w=v[0],x=v[1],y;e[0]!==i?(v=function(){var a;u.current!=null&&(a=u.current)!=null&&a.complete&&i.endSuccess()},y=[i],e[0]=i,e[1]=v,e[2]=y):(v=e[1],y=e[2]);m(v,y);e[3]!==f?(v=d("MWV2MediaViewerDimensions").getLargestAttachmentDimensions(f),e[3]=f,e[4]=v):v=e[4];y=v;v=y.height;y=y.width;var z=(j||(j=d("I64"))).to_int32(f.attachmentType)===c("MessagingAttachmentType").ANIMATED_IMAGE,A;e[5]!==f||e[6]!==t||e[7]!==i?(A=t(f,"MediaViewerImage",i),e[5]=f,e[6]=t,e[7]=i,e[8]=A):A=e[8];t=A;if(t!=null){var B=z&&q!==d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;e[9]!==s?(A=s("MWV2MediaViewerImage"),e[9]=s,e[10]=A):A=e[10];e[11]!==f||e[12]!==v||e[13]!==g||e[14]!==z||e[15]!==w||e[16]!==i||e[17]!==a||e[18]!==B||e[19]!==t||e[20]!==y?(q=B?w===!1?k.jsx(d("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:f,entryPoint:d("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.MediaViewer,mediaRenderQpl:i,message:null,onPlay:function(){return x(!0)},outgoing:!1,previewHeight:v,previewWidth:y}):k.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"Pause GIF"),hideHoverOverlay:!0,onPress:function(){B&&x(!1)},children:k.jsx(c("BaseImage.react"),{height:"100%",objectFit:"contain",onError:function(){i.endFail("load-image-error")},onLoad:function(){i.endSuccess()},ref:u,src:t,width:"100%"})}):!z&&b("cr:7203")!=null?k.jsx(b("cr:7203"),{imageContainerRef:g,outsideContainerRef:a,children:k.jsx(c("BaseImage.react"),{height:"100%",objectFit:"contain",onError:function(){i.endFail("load-image-error")},onLoad:function(){i.endSuccess()},ref:u,src:t,width:"100%"})}):k.jsx(c("BaseImage.react"),{height:"100%",objectFit:"contain",onError:function(){i.endFail("load-image-error")},onLoad:function(){i.endSuccess()},ref:u,src:t,width:"100%"}),e[11]=f,e[12]=v,e[13]=g,e[14]=z,e[15]=w,e[16]=i,e[17]=a,e[18]=B,e[19]=t,e[20]=y,e[21]=q):q=e[21];e[22]!==f||e[23]!==r?(s=k.jsx(p,{attachment:f,shouldHide:r}),v=b("cr:7201")&&k.jsx(b("cr:7201"),{attachment:f,shouldHide:r}),e[22]=f,e[23]=r,e[24]=s,e[25]=v):(s=e[24],v=e[25]);e[26]!==A||e[27]!==q||e[28]!==s||e[29]!==v?(g=k.jsxs(k.Fragment,{children:[A,q,s,v]}),e[26]=A,e[27]=q,e[28]=s,e[29]=v,e[30]=g):g=e[30];return g}else{i.endFail("missing-playable-url");return null}}function p(a){var b=d("react-compiler-runtime").c(6),e=a.attachment;a=a.shouldHide;a=a===void 0?!1:a;e=e;e=e.isHd===!0;if(!e)return null;b[0]!==a?(e={0:{className:"x78zum5 x5yr21d x47corl x10l6tqk xh8yej3"},1:{className:"x5yr21d x47corl x10l6tqk xh8yej3 x1s85apg"}}[!!a<<0],b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xdg88n9 x10l6tqk xomnu4r"},b[2]=a):a=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",babelHelpers["extends"]({},a,{children:k.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:c("MWXIconHd"),size:24})})),b[3]=a):a=b[3];b[4]!==e?(a=k.jsx("div",babelHelpers["extends"]({},e,{children:a})),b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("MWV2MediaViewerItemVideo.react",["MWChatVideoPlayer.react","MWV2MediaViewerContext.react","cr:7201","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var e=d("react-compiler-runtime").c(14),f=a.attachment;a=a.mediaRenderQpl;var g=j(d("MWV2MediaViewerContext.react").context);g=g.getPlayableUrl;var h;e[0]!==f||e[1]!==g||e[2]!==a?(h=g(f,"MediaViewerVideo",a),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];g=h;if(g!=null){e[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x78zum5 x1iyjqo2 xmz0i5r"},e[4]=h):h=e[4];var k;e[5]!==f.attachmentFbid||e[6]!==a||e[7]!==g?(k=i.jsx(c("MWChatVideoPlayer.react"),{controls:"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,isMediaViewer:!0,mediaRenderQpl:a,originalHeight:1e3,originalWidth:1e3,sdSrc:g,shouldForcePauseOnClick:!1}),e[5]=f.attachmentFbid,e[6]=a,e[7]=g,e[8]=k):k=e[8];e[9]!==f?(g=b("cr:7201")&&i.jsx(b("cr:7201"),{attachment:f}),e[9]=f,e[10]=g):g=e[10];e[11]!==k||e[12]!==g?(f=i.jsxs("div",babelHelpers["extends"]({},h,{children:[k,g]})),e[11]=k,e[12]=g,e[13]=f):f=e[13];return f}else{a.endFail("missing-playable-url");return null}}g["default"]=a}),98);
__d("MWV2MediaViewerItem.react",["I64","LSIntEnum","MWChatAttachmentMediaState.react","MWMediaViewerRenderQpl","MWV2MediaViewerAspectRatioContainer.react","MWV2MediaViewerDimensions","MWV2MediaViewerItemImage.react","MWV2MediaViewerItemVideo.react","MWV2MediaViewerNullState.react","MessagingAttachmentType","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useContext,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(9),e=a.attachment,f=a.onClose;a=a.threadType;var g=e.attachmentType;if(!((i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWV2MediaViewerNullState.react"),{}),b[0]=g):g=b[0];return g}b[1]!==f?(g=c("gkx")("6691")&&k.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},{className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy"},{"data-testid":void 0,onClick:f})),b[1]=f,b[2]=g):g=b[2];b[3]!==e||b[4]!==a?(f=k.jsx(n,{attachment:e,threadType:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];b[6]!==g||b[7]!==f?(e=k.jsxs(k.Fragment,{children:[g,f]}),b[6]=g,b[7]=f,b[8]=e):e=b[8];return e}function n(a){var b=d("react-compiler-runtime").c(11),e=a.attachment,f=a.onClose;a=a.threadType;a=d("MWMediaViewerRenderQpl").useMediaViewerRenderQpl(e,a);var g=l(d("MWChatAttachmentMediaState.react").context);g=g.isImageExpanded;var h=g?d("MWV2MediaViewerDimensions").IMAGE_EXPANSION_FACTOR:1,n=m(null),o=m(null),p;b[0]!==e?(p=d("MWV2MediaViewerDimensions").getLargestAttachmentDimensions(e),b[0]=e,b[1]=p):p=b[1];p=p;var q=p.height;p=p.width;var r=e.attachmentType;b[2]!==e||b[3]!==q||b[4]!==h||b[5]!==g||b[6]!==a||b[7]!==f||b[8]!==r||b[9]!==p?(o=(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?k.jsx(c("MWV2MediaViewerAspectRatioContainer.react"),{height:q,imageContainerRef:o,imageExpansionFactor:h,isImageExpanded:g,onClickOutsideOfChildren:f,outsideContainerRef:n,width:p,children:k.jsx(c("MWV2MediaViewerItemImage.react"),{attachment:e,imageContainerRef:o,mediaRenderQpl:a,outsideContainerRef:n})}):(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?k.jsx(c("MWV2MediaViewerItemVideo.react"),{attachment:e,mediaRenderQpl:a}):null,b[2]=e,b[3]=q,b[4]=h,b[5]=g,b[6]=a,b[7]=f,b[8]=r,b[9]=p,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("MWV2MediaViewerContent.react",["fbt","CometHideLayerOnEscape.react","CometPlaceholder.react","FDSBlurredBackgroundImage.react","I64","LSIntEnum","MWChatAttachmentMediaNavigationHotkeys.react","MWChatAttachmentMediaState.react","MWChatAttachmentMediaThumbnails.react","MWChatMediaViewerNavigationTapTarget.react","MWV2MediaViewerContainer.react","MWV2MediaViewerContext.react","MWV2MediaViewerControlsContainer.react","MWV2MediaViewerItem.react","MWV2MediaViewerNullState.react","MWXColumn.react","MWXColumnItem.react","MWXRow.react","MWXRowItem.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:339","gkx","justknobx","react","react-compiler-runtime","useReStore","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;var n=e.useContext,o=e.useEffect,p={mediaItem:{marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",$$css:!0},mediaRow:{minHeight:"x2lwn1j",$$css:!0},noOverflow:{maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(6);a=a.attachment;var e=n(d("MWV2MediaViewerContext.react").context);e=e.getPreviewUrl;if(a==null||(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return null;var f;b[0]!==a||b[1]!==e?(f=e(a,"BlurredBackground"),b[0]=a,b[1]=e,b[2]=f):f=b[2];a=f;if(a==null)return null;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1ey2m1c xtijo5x x1o0tod xuzhngd x10l6tqk x13vifvy"},b[3]=e):e=b[3];b[4]!==a?(f=m.jsx("div",babelHelpers["extends"]({},e,{children:m.jsx(c("FDSBlurredBackgroundImage.react"),{src:a})})),b[4]=a,b[5]=f):f=b[5];return f}function a(a){var e=d("react-compiler-runtime").c(70),g=a.initialAttachment,j=a.onClose;a=a.thread;var k=n(d("MWChatAttachmentMediaState.react").context),l=k.canMoveBackward,r=k.canMoveForward,s=k.card,t=k.isImageExpanded,u=k.moveBackward,v=k.moveForward;k=k.shouldTriggerLoadMore;var w=n(d("MWV2MediaViewerContext.react").context),x=w.getPreviewUrl,y=w.loadMore,z=(i||(i=c("useReStore")))(),A=g==null?void 0:g.threadKey,B=g==null?void 0:g.messageId;e[0]!==z.tables.attachments||e[1]!==B||e[2]!==A?(w=function(){return d("ReQL").fromTableDescending(z.tables.attachments).getKeyRange(A,B)},e[0]=z.tables.attachments,e[1]=B,e[2]=A,e[3]=w):w=e[3];var C;e[4]!==z||e[5]!==B||e[6]!==A?(C=[z,B,A],e[4]=z,e[5]=B,e[6]=A,e[7]=C):C=e[7];w=d("ReQLSuspense").useFirst(w,C,f.id+":119")!=null;var D=s!=null?s.attachment:w?g:void 0;e[8]!==D||e[9]!==z.tables.messages?(C=function(){return(D==null?void 0:D.messageId)==null?d("ReQL").empty():d("ReQL").fromTableAscending(z.tables.messages.index("messageId")).getKeyRange(D.messageId)},e[8]=D,e[9]=z.tables.messages,e[10]=C):C=e[10];s=D==null?void 0:D.messageId;e[11]!==z.tables.messages||e[12]!==s?(w=[s,z.tables.messages],e[11]=z.tables.messages,e[12]=s,e[13]=w):w=e[13];g=d("ReQLSuspense").useFirst(C,w,f.id+":135");var E=k;e[14]!==y||e[15]!==E?(s=function(){E&&y()},C=[E,y],e[14]=y,e[15]=E,e[16]=s,e[17]=C):(s=e[16],C=e[17]);o(s,C);w=c("gkx")("1775");k=c("useShouldShowUnsupportedCodecFallback")(D);s=c("useShouldShowPlaybackErrorFallback")(D);C=!((D==null?void 0:D.transportKey)==="FBBroker"||(D==null?void 0:D.transportKey)==="FBLegacyBroker");var F;e[18]!==D||e[19]!==C||e[20]!==s||e[21]!==k||e[22]!==j||e[23]!==a?(F=D==null?m.jsx(c("MWV2MediaViewerNullState.react"),{}):!C||!k&&!s&&b("cr:339")==null?m.jsx(c("MWV2MediaViewerItem.react"),{attachment:D,onClose:j,threadType:a.threadType}):b("cr:339")!=null?m.jsx(b("cr:339"),{attachment:D,onClose:j,threadType:a.threadType}):null,e[18]=D,e[19]=C,e[20]=s,e[21]=k,e[22]=j,e[23]=a,e[24]=F):F=e[24];C=F;e[25]===Symbol["for"]("react.memo_cache_sentinel")?(s=c("justknobx")._("3491"),e[25]=s):s=e[25];k=s;e[26]!==D||e[27]!==g||e[28]!==j||e[29]!==a?(F=m.jsx(c("MWV2MediaViewerControlsContainer.react"),{attachment:D,message:g,onClose:j,thread:a}),e[26]=D,e[27]=g,e[28]=j,e[29]=a,e[30]=F):F=e[30];e[31]!==j?(s=k?null:m.jsx(d("MWChatAttachmentMediaNavigationHotkeys.react").MWChatAttachmentMediaNavigationHotkeys,{onClose:w?j:void 0}),e[31]=j,e[32]=s):s=e[32];e[33]!==D?(g=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2MediaViewerContent.BlurredBackground",children:m.jsx(q,{attachment:D})}),e[33]=D,e[34]=g):g=e[34];e[35]===Symbol["for"]("react.memo_cache_sentinel")?(a=[p.mediaRow,w&&p.noOverflow],e[35]=a):a=e[35];var G;e[36]===Symbol["for"]("react.memo_cache_sentinel")?(G=h._(/*BTDS*/"Previous photo"),e[36]=G):G=e[36];l=!l;e[37]!==t||e[38]!==u||e[39]!==l?(G=m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:"previous",label:G,onClick:u,shouldHide:l,shouldHideWithoutTransition:t,testid:void 0})}),e[37]=t,e[38]=u,e[39]=l,e[40]=G):G=e[40];e[41]!==C?(u=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"stretch",xstyle:w&&p.mediaItem,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2MediaViewerContent.MediaContent",children:C})}),e[41]=C,e[42]=u):u=e[42];e[43]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Next photo"),e[43]=l):l=e[43];C=!r;e[44]!==t||e[45]!==v||e[46]!==C?(r=m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:"next",label:l,onClick:v,shouldHide:C,shouldHideWithoutTransition:t,testid:void 0})}),e[44]=t,e[45]=v,e[46]=C,e[47]=r):r=e[47];e[48]!==G||e[49]!==u||e[50]!==r?(l=m.jsx(c("MWXColumnItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXRow.react"),{align:"justify",expanding:!0,paddingHorizontal:0,paddingVertical:0,spacingHorizontal:w?0:void 0,verticalAlign:"stretch",xstyle:a,children:[G,u,r]})}),e[48]=G,e[49]=u,e[50]=r,e[51]=l):l=e[51];e[52]!==x||e[53]!==t?(v=m.jsx(c("MWXColumnItem.react"),{children:m.jsx(c("MWChatAttachmentMediaThumbnails.react"),{getPreviewUrl:x,shouldHide:t})}),e[52]=x,e[53]=t,e[54]=v):v=e[54];e[55]!==l||e[56]!==v?(C=m.jsxs(c("MWXColumn.react"),{align:"stretch",expanding:!0,paddingHorizontal:0,verticalAlign:"space-between",children:[l,v]}),e[55]=l,e[56]=v,e[57]=C):C=e[57];e[58]!==t||e[59]!==F||e[60]!==s||e[61]!==g||e[62]!==C?(a=m.jsxs(c("MWV2MediaViewerContainer.react"),{actions:F,hideActions:t,children:[s,g,C]}),e[58]=t,e[59]=F,e[60]=s,e[61]=g,e[62]=C,e[63]=a):a=e[63];G=a;if(j!=null&&!w){e[64]!==G||e[65]!==j?(u=m.jsx(c("CometHideLayerOnEscape.react"),{onHide:j,children:G}),e[64]=G,e[65]=j,e[66]=u):u=e[66];return u}else{if(k){r=w?j:void 0;e[67]!==G||e[68]!==r?(x=m.jsx(d("MWChatAttachmentMediaNavigationHotkeys.react").MWChatAttachmentMediaNavigationHotkeys,{onClose:r,children:G}),e[67]=G,e[68]=r,e[69]=x):x=e[69];return x}return G}}g["default"]=a}),226);
__d("MWV2MediaViewerThreadCutoverWrapper.react",["LSThreadMediaGalleryGroup","MWChatAttachmentMediaState.react","MWV2MediaViewerContext.react","emptyFunction","justknobx","react","react-compiler-runtime","useMAWLoadMoreCutoverThreadSharedAttachments","useMWMaybeInboxMediaRestoreLoop","useMWV2MediaViewerOpenDownloadUrl","useMWV2MediaViewerOpenPlayableUrl","useMWV2MediaViewerOpenPreviewUrl","useMWV2MediaViewerSecurePlayableUrl_CausesSuspense","useMWV2MediaViewerSecurePreviewUrl_CausesSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(27),e=a.children,f=a.initialAttachment,g=a.openThreadKey,h=a.secureThreadKey;a=a.threadType;var k;b[0]!==h||b[1]!==a?(k={threadKey:h,threadType:a},b[0]=h,b[1]=a,b[2]=k):k=b[2];c("useMWMaybeInboxMediaRestoreLoop")(k);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k={entrypoint:"media_viewer"},b[3]=k):k=b[3];var l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=c("justknobx")._("3233"),b[4]=l):l=b[4];h=c("useMAWLoadMoreCutoverThreadSharedAttachments")(h,g,a,k,c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS,!1,l);g=h.attachments;a=h.onLoadMore;var m=j,n=c("useMWV2MediaViewerOpenPreviewUrl")(),o=c("useMWV2MediaViewerOpenPlayableUrl")(),p=c("useMWV2MediaViewerOpenDownloadUrl")(),q=c("useMWV2MediaViewerSecurePreviewUrl_CausesSuspense")(),r=c("useMWV2MediaViewerSecurePlayableUrl_CausesSuspense")();b[5]!==n||b[6]!==q?(k=function(a,b,c){if(!a)return"";return!m(a)?n(a,b,c):q(a,b,c)},b[5]=n,b[6]=q,b[7]=k):k=b[7];l=k;b[8]!==o||b[9]!==r?(h=function(a,b,c){if(a==null)return"";return!m(a)?o(a,b,c):r(a,b,c)},b[8]=o,b[9]=r,b[10]=h):h=b[10];k=h;b[11]!==p||b[12]!==r?(h=function(a,b,c){if(a==null)return"";return!m(a)?p(a,b,c):r(a,b,c)},b[11]=p,b[12]=r,b[13]=h):h=b[13];h=h;var s;b[14]!==g||b[15]!==e||b[16]!==k||b[17]!==l||b[18]!==f?(s=i.jsx(d("MWChatAttachmentMediaState.react").MWChatAttachmentMediaStateProviderFromAttachments,{attachments:g,getIsSecureThread:m,getPlayableUrl:k,getPreviewUrl:l,initialAttachment:f,children:e}),b[14]=g,b[15]=e,b[16]=k,b[17]=l,b[18]=f,b[19]=s):s=b[19];b[20]!==g||b[21]!==h||b[22]!==k||b[23]!==l||b[24]!==a||b[25]!==s?(e=i.jsx(d("MWV2MediaViewerContext.react").MWV2MediaViewerContextProvider,{getDownloadUrl:h,getPlayableUrl:k,getPreviewUrl:l,heroLoggingComponent:c("emptyFunction"),loadMore:a,media:g,children:s}),b[20]=g,b[21]=h,b[22]=k,b[23]=l,b[24]=a,b[25]=s,b[26]=e):e=b[26];return e}function j(a){return!((a==null?void 0:a.transportKey)==="FBBroker"||(a==null?void 0:a.transportKey)==="FBLegacyBroker")}g["default"]=a}),98);